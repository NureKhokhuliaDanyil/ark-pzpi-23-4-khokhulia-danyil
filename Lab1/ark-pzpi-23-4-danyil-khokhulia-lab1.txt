МІНІСТЕРСТВО ОСВІТИ І НАУКИ УКРАЇНИ 
  
ХАРКІВСЬКИЙ НАЦІОНАЛЬНИЙ 
УНІВЕРСИТЕТ РАДІОЕЛЕКТРОНІКИ 
  
Кафедра «Програмна інженерія» 
  
ЗВІТ 
з лабораторної роботи № 1 з дисципліни «Аналіз та рефакторинг коду» з теми «Розробка Vision & Scope» 
  
Виконав                  			Прийняв:                                              						 ст. гр. ПЗПІ-23-4        			старший викладач ПІ                                	       Хохуля Д. А.       					Сокорчук І.П.                                                      
Харків  2025 
 
1 ІСТОРІЯ ЗМІН 
№ 	Дата 		Версія звіту 		Опис змін та виправлень
1 28.11.25 			0.1				Створено розділи «Історія змін», «Завдання», «Опис виконаної роботи» 2 29.11.25			0.2 			Створено розділи «Висновки»,  «Додаток Б»3 30.11.25			0.3				Створено розділ «Додаток А» 2 ЗАВДАННЯ 
Створити опис проєкту у форматі Vision & Scope, включивши такі розділи: 
1) 1.1 Аналіз проблеми: Яку проблему вирішує система? Чому вона важлива? Як поточні підходи не задовольняють потреб? 
2) 1.2 Аналіз аналогів: Огляд існуючих систем чи рішень. Які недоліки вони мають? Як нова система покращить ситуацію? 
3) 2.1 Опис призначення системи: Що робить система? Яку цінність вона створює для користувачів? 
4) 2.2 Опис бізнес-логіки: Як працюватиме система з погляду бізнес-процесів. Які дії виконуватимуть користувачі? 
5) 3.1 Опис функціональності серверної частини та IoT-клієнта: Які завдання виконує сервер? Які функції виконує IoT-клієнт? 
6) 3.2 Опис функціональності веб-клієнта та мобільного клієнта: Які функції мають веб- та мобільні інтерфейси? Як вони взаємодіють із сервером? 
7) 4.3 Опис програмних засобів та інструментів: Які технології будуть використані? Системи управління версіями, мови програмування, середовища розробки тощо. 
3 ОПИС ВИКОНАНОЇ РОБОТИ 
     У рамках виконання даної роботи було проведено комплексний аналіз предметної області та підготовку до розробки програмно-апаратної системи для автоматизації роботи громадських пралень. Основним завданням цього етапу було формування чіткого бачення продукту, визначення його меж, функціональних можливостей та технічних вимог до взаємодії програмного забезпечення з апаратними компонентами (IoT). 
     Результатом цього етапу став деталізований документ «Концепція та рамки проєкту» (Vision & Scope), який наведено у Додатку Б. 
     Під час підготовчої роботи було виконано наступні ключові завдання: 
1) Проаналізовано ринкову проблему, зокрема незручність використання готівки/жетонів у пральнях, відсутність віддаленого моніторингу статусу машин та неможливість бронювання. Розглянуто недоліки існуючих рішень та конкурентів (розділи 1.1, 1.2 Додатку Б). 
2) Сформульовано призначення майбутньої системи, її унікальну цінність для клієнтів (зручність, економія часу) та власників бізнесу (автоматизація обліку, динамічне ціноутворення, зменшення витрат на персонал) (розділ 2.1 Додатку Б). 
3) Детально описано бізнес-логіку взаємодії всіх сторін: від моменту бронювання машини у мобільному додатку до фізичної активації пральної машини через IoT-контролер та отримання повідомлення про завершення прання (розділ 2.2 Додатку Б). 
4) Визначено технічні та функціональні рамки проєкту, які зосереджені на розробці серверної бізнес-логіки (Backend), проектуванні реляційної бази даних та написанні вбудованого ПЗ (firmware) для IoT-контролерів, а також реалізації REST API для потенційної інтеграції з будь-якими зовнішніми клієнтами (розділи 3.1, 3.2 Додатку Б). 
5) Сформовано та обґрунтовано повний технологічний стек (ови програмування для серверу та мікроконтролерів, протоколи передачі даних MQTT/HTTP, СУБД, хмарні сервіси, інструменти), який буде використано для реалізації всіх компонентів системи (розділ 4.3 Додатку Б). 

     Створений документ (Додаток Б) є фундаментальною основою для подальшого проектування схеми бази даних, розробки API-ендпоінтів та програмування апаратної логіки контролерів. 
4 ВИСНОВКИ 
     У ході лабораторної роботи було проведено комплексний аналіз та проектування програмно-апаратної системи для автоматизації роботи пральних машин у громадських пральнях. Аналіз предметної області підтвердив, що існуючі застарілі методи керування (жетони, готівка) та відсутність віддаленого моніторингу створюють незручності для клієнтів і обмежують прибуток власників. Запропонована концепція IoT-системи вирішує ці проблеми, надаючи інструменти для бронювання, безготівкової оплати та динамічного ціноутворення. 
     У рамках проєкту було детально описано бізнес-логіку системи, що охоплює повний цикл: від API-запиту на бронювання до фізичної активації пральної машини через мікроконтролер. Сформовано чіткі функціональні вимоги до всіх компонентів екосистеми. Також було обрано та обґрунтовано сучасний технологічний стек, що включає C#/.NET та ASP.NET Web API для надійного бекенду, Entity Framework та MSSQL для роботи з даними, а також хмарні платформи Azure та Render для розгортання. Архітектура передбачає використання React та React Native для клієнтських інтерфейсів, Swagger для документування API та протоколів IoT для зв'язку з обладнанням. 
     Створений документ «Vision & Scope» є фундаментом для подальшої розробки, чітко окреслюючи межі проєкту та технічні специфікації. Таким чином, проєкт є технічно обґрунтованим, бізнес-доцільним і готовим до етапу безпосередньої реалізації серверної логіки та апаратної частини. 
 
5 ВИКОРИСТАНІ ДЖЕРЕЛА 
1) Методичні вказівки до лабораторних робіт з дисципліни «Аналіз та рефакторинг коду програмного забезпечення» (дата звернення: 
20.11.2025). 
2) Сокорчук І. П. Настанови щодо розробки документу VISION & SCOPE (дата звернення: 20.11.2025). 
3) ASP.NET documentation. Microsoft Learn: Build skills that open doors in your career. URL: https://docs.microsoft.com/en-us/aspnet/core/ (дата звернення: 10.10.2025). 
4) OpenAPI Specification - Version 3.1.0 | Swagger. API Documentation & Design Tools for Teams | Swagger. URL: https://swagger.io/specification/ (дата звернення: 18.11.2025). 
5) React Native documentation. Meta Open Source - Learn once, write anywhere. URL: https://reactnative.dev/docs/getting-started (дата звернення: 22.11.2025).
6) React documentation. The library for web and native user interfaces. URL: https://react.dev/reference/react (дата звернення: 25.11.2025)
7) Entity Framework Core documentation. Microsoft Learn: Data access for .NET. URL: https://learn.microsoft.com/en-us/ef/core/ (дата звернення: 24.11.2025).
8) Handbook - The TypeScript Handbook. TypeScript: JavaScript With Syntax For Types. URL: 
https://www.typescriptlang.org/docs/handbook/intro.html (дата звернення: 23.11.2025).
  
ДОДАТОК А 
Відеозапис презентації результатів лабораторної роботи: 
https://youtu.be/gMS2lqzm0Rg
Хронологічний опис відеозапису: 
00:00 – Вступ 
00:25 – Аналіз проблеми 
1:40 – Аналіз аналогів
3:15 – Опис призначення системи
4:00 – Опис бізнес-логіки 
5:13 – Опис функціональності серверної частини та IoT-клієнта 
6:01 – Опис функціональності веб-клієнта та мобільного клієнта 
6:44 – Опис програмних засобів та інструментів

ДОДАТОК Б 
VISION AND SCOPE DOCUMENT (КОНЦЕПЦІЯ ТА РАМКИ ПРОЄКТУ)  
1 BUSINESS REQUIREMENTS (БІЗНЕС-ВИМОГИ) 
1.1 Аналіз проблеми 
     Наразі у світі час та комфорт є ключовими ресурсами як для споживачів побутових послуг, так і для власників бізнесу. Процес використання громадських пралень (у гуртожитках, житлових комплексах або окремих закладах), особливо у вихідні дні або вечірні години, нерозривно пов'язаний із невизначеністю та неефективною витратою часу. Цей проєкт спрямований на розробку програмно-апаратної системи для автоматизації роботи пралень, яка пропонує зручне та технологічне вирішення цієї проблеми. Основний акцент робиться на інтеграції IoT-технологій для усунення фізичних бар'єрів та оптимізації взаємодії користувача з обладнанням. 
     Для клієнтів пралень основна проблема полягає у відсутності інформації та необхідності фізичної присутності: клієнт змушений йти до пральні, щоб перевірити наявність вільних машин, часто стикаючись із чергами або несправним обладнанням. Також значною незручністю є застарілі методи оплати (пошук дрібної готівки або жетонів) та необхідність очікувати завершення прання на місці через страх крадіжки речей. Для власників бізнесу проблема полягає у складності адміністрування: інкасація готівки вимагає витрат часу та створює ризики, а відсутність телеметрії не дозволяє оперативно дізнаватися про поломки машин, що призводить до їх простою та втрати прибутку. 
     Важливість вирішення цієї проблеми є очевидною. Для клієнтів — це можливість дистанційно перевіряти статус машин, бронювати їх та керувати часом, не прив’язуючись до фізичного очікування. Для закладів це потужний інструмент підвищення рентабельності: система дозволяє впровадити динамічне ціноутворення (балансування навантаження в пікові години), відмовитися від витрат на обслуговування монетоприймачів та зменшити час простою обладнання завдяки миттєвим сповіщенням про збої. 
     
     Існуючі підходи не задовольняють цю потребу повною мірою. Наприклад, традиційні пральні з монетоприймачами є незручними через потребу у готівці та відсутність функції бронювання; заклади з обслуговуючим персоналом мають високі операційні витрати, що підвищує вартість послуги для кінцевого споживача; а існуючі промислові рішення для автоматизації (наприклад, від виробників техніки) часто вимагають закупівлі дорогого специфічного обладнання і не дозволяють модернізувати вже наявний парк машин. 
     Таким чином, розробка універсальної системи автоматизації пральних машин є прямою відповіддю на існуючий ринковий попит на цифровізацію побутових послуг, який наразі не задовольняється доступними рішеннями. 
1.2 Аналіз аналогів 
     Зараз на ринку існують кілька рішень, які частково перекривають функціонал автоматизації пралень. Їх можна розглядати як непрямих конкурентів та аналоги, чиї суттєві технічні та економічні недоліки створюють можливість для нашого продукту. Під час аналізу існуючих рішень було виділено три основні групи спроб вирішення проблеми керування пральнями, а саме:
     По-перше, пропрієтарні екосистеми виробників обладнання (наприклад, LG Commercial Laundry, Electrolux Professional). Їхня основна модель базується на продажі «розумних» пральних машин із вбудованим ПЗ. Недоліком є те, що це закриті системи: вони вимагають повної заміни парку машин на дорогі нові моделі конкретного бренду. Це робить технологію недоступною для малого та середнього бізнесу, який використовує різнорідне або вживане обладнання. Це створює ситуацію, де автоматизація є привілеєм лише великих мереж з величезним стартовим капіталом.
     По-друге, централізовані платіжні термінали та карткові системи (стійки оплати, RFID-картки локальних мереж). Їхня проблема полягає у фізичній прив'язці до локації та відсутності онлайн-взаємодії. Клієнт все одно змушений приходити до пральні, щоб поповнити картку через термінал або перевірити, чи є вільні машини. Відсутність мобільного додатку унеможливлює дистанційне бронювання, а втрата фізичної картки часто означає втрату коштів на балансі. 
     По-третє, класичні монето- та жетоноприймачі. Це найпоширеніший, але найбільш застарілий аналог. Їхня головна проблема — незручність (потреба у готівці) та відсутність будь-якої аналітики чи керування. Власник не бачить реального стану машин, не може змінювати ціни дистанційно, а інкасація коштів пов'язана з ризиками крадіжок та вандалізму.
     Наша система розроблена як пряма та цільова відповідь на недоліки існуючих аналогів, щоб зайняти унікальну ринкову нішу універсального IoT-рішення. Вона покращить ситуацію, створивши єдину екосистему, яка не залежить від виробника пральних машин.
На відміну від пропрієтарних рішень (LG/Samsung), наша ідея полягає у використанні зовнішніх IoT-контролерів, що дозволяє «розумно» модернізувати будь-яку стару машину без необхідності її заміни (Retrofitting). Для користувача це означає фундаментальне покращення досвіду: замість пошуку дрібних грошей або фізичної присутності для перевірки черги, він отримує повний контроль через смартфон: «перевірив статус — забронював — оплатив — запустив». 
     Ключовою відмінністю від наявних апаратних рішень стане вигідна бізнес-модель (SaaS). Ми замінюємо необхідність купівлі дорогого серверного обладнання та нових машин на доступну підписку та дешеві IoT-модулі. Це дозволяє власникам пралень впроваджувати динамічне ціноутворення (знижки в непопулярні години), що робить сервіс фінансово привабливим для студентів та дозволяє бізнесу максимізувати прибуток без капітальних інвестицій. 
2 VISION OF THE SOLUTION (КОНЦЕПЦІЯ РІШЕННЯ) 
2.1 Опис призначення системи 
     Програмно-апаратна система виступає технологічним «міском» між побутовими потребами користувача та фізичною інфраструктурою громадських пралень. Вона трансформує процес прання, який раніше вимагав фізичної присутності для перевірки вільності машин та використання готівки, у повністю керований цифровий сервіс. Користувач отримує можливість інтегрувати відвідування пральні у свій графік без ризику простою, взаємодіючи з обладнанням віддалено через серверні API. 
     Для власників бізнесу система створює прозорий та автоматизований механізм керування парком обладнання. Завдяки IoT-модулям та серверній логіці, система дозволяє балансувати навантаження на електромережу та обладнання, застосовуючи динамічне ціноутворення. Замість "сліпого" обслуговування, адміністрація отримує потік телеметрії в реальному часі, що дозволяє миттєво реагувати на збої та прогнозувати необхідність ремонту, роблячи операційні процеси стабільними та рентабельними. 
     Основна цінність для клієнта полягає у гарантованості послуги та безготівковій взаємодії. Система усуває невизначеність типу «чи будуть вільні машини?» та «чи працює обладнання?», перетворюючи рутинну побутову задачу на передбачувану дію. Йдеться про надання користувачеві повного контролю над процесом: від бронювання конкретного слоту до віддаленого запуску циклу прання, що забезпечує комфорт та економію часу. 
     Для пралень цінність полягає у цифровій трансформації активів без необхідності повної заміни обладнання. Система перетворює звичайні "аналогові" машини на розумні IoT-пристрої, інтегровані в єдину мережу. Це не просто автоматизує прийом платежів, а й мінімізує людський фактор в управлінні, зменшує ризики вандалізму (завдяки відмові від монетоприймачів) та відкриває можливості для масштабування бізнесу через підключення нових локацій до центрального сервера. 
 
2.2 Опис бізнес-логіки 
     Робота системи будується на чіткій та автоматизованій взаємодії трьох компонентів: хмарного сервера (Backend), клієнтського застосунку та апаратних IoT-модулів, підключених до пральних машин. Весь процес організований як безперервний цифровий цикл, який починається з конфігурації інфраструктури. Адміністратор системи спочатку реєструється у веб-панелі та створює «профіль» пральні. Він вносить технічні дані: реєструє IoT-контролери (прив'язуючи їхні унікальні ID до номерів машин), налаштовує тарифи (наприклад, ціна за хвилину або фіксована ціна за режим) та графік роботи закладу. Тільки після встановлення зв'язку між сервером та контролерами (через протокол MQTT) машини отримують статус «Online» і стають доступними для бронювання.. 
     Основна дія починається, коли клієнт звертається до API системи. Він перевіряє статус машин у реальному часі, обирає вільний слот або конкретну машину та ініціює транзакцію. Важливим моментом є те, що клієнт здійснює передоплату послуги онлайн (імітація списання коштів). Саме факт успішної транзакції в базі даних є тригером для сервера. Це захищає бізнес від несанкціонованого використання обладнання: машина фізично не увімкнеться, поки сервер не підтвердить оплату. 
     Як тільки оплата пройшла, серверна логіка миттєво надсилає керуючу команду на відповідний IoT-контролер. Роль оператора тут виконує автоматика: контролер активує реле подачі живлення на пральну машину та розблокує електромагнітний замок дверцят. Користувач завантажує речі, обирає програму на самій машині та запускає прання. 
     Протягом усього циклу IoT-модуль зчитує показники датчиків (вібрація, споживання струму) і транслює телеметрію на сервер. Коли датчики фіксують відсутність вібрації або падіння споживання струму протягом визначеного часу, сервер змінює статус сесії на «Завершено» і автоматично ініціює надсилання Push-повідомлення користувачу. 
     Паралельно з цим система забезпечує повний технічний контроль. Якщо IoT-контролер перестає надсилати сигнал «серцебиття» (heartbeat) або фіксує помилку, сервер автоматично переводить машину в статус «Maintenance» (На обслуговуванні) та блокує можливість її бронювання. Це дозволяє адміністратору миттєво реагувати на поломки, а клієнтам — бачити лише справне обладнання.
3 SCOPE AND LIMITATIONS (РАМКИ ТА ОБМЕЖЕННЯ ПРОЄКТУ)  
3.1 Опис функціональності серверної частини та IoT-клієнта 
     Серверна частина виступає центральним елементом системи, побудованої на архітектурі RESTful API. Сервер відповідає за цілісність даних, виконання бізнес-правил та оркестрацію процесів між користувачами та фізичним обладнанням. Розглянемо детальніше завдання сервера: 
- Архітектура даних: Проектування та управління реляційною базою даних (MSSQL) для надійного зберігання структурованої інформації: облікових записів користувачів, реєстру пральних машин з їх технічними характеристиками, довідників тарифних планів та повної історії транзакцій і сесій прання. 
- Управління доступом та безпека: Реалізація механізму автентифікації на основі JWT-токенів для захисту сесій клієнтів та адміністраторів; контроль ролей (Role-Based Access Control) для розмежування прав доступу (наприклад, звичайний користувач може лише бронювати, адміністратор — конфігурувати систему). 
- Управління інфраструктурою (CRUD): Забезпечення операцій для налаштування системи: додавання нових IoT-пристроїв, редагування параметрів режимів прання (ціна, тривалість), переведення машин у режим технічного обслуговування. Реалізація логіки конкурентного доступу (блокування спроби одночасного бронювання однієї машини двома користувачами). 
- Обробка життєвого циклу сесії прання: Валідація вхідних запитів (перевірка балансу користувача, перевірка фізичного статусу машини); інтеграція з білінгом: ініціалізація транзакції та надсилання команди запуску на обладнання лише після підтвердження оплати; маршрутизація команд на конкретні IoT-контролери через протокол MQTT. 
- API та документування: Надання автоматично згенерованої документації (Swagger UI) для зручної взаємодії розробників клієнтської частини та тестування ендпоінтів. 
     IoT-клієнт — це вбудоване програмне забезпечення (firmware) для мікроконтролерів (наприклад, ESP32), інтегрованих у пральні машини. Воно замінює необхідність у фізичній присутності оператора та забезпечує двосторонній зв'язок «Машина ⇔ Сервер». Детальніше про функціональні завдання IoT-клієнта:  
a) прийом сигналу від сервера на замикання реле (подача живлення на машину) та розблокування/блокування електронного замка дверцят. 
b) постійний моніторинг показників датчиків (акселерометр для визначення вібрації/стадії віджиму, датчик струму для контролю роботи двигуна). 
c) періодичне надсилання коротких сигналів на сервер для підтвердження того, що машина знаходиться на зв'язку (Online). Якщо сигнал зникає, сервер автоматично позначає машину як «Недоступна». 
d) відправка аварійних кодів на сервер у разі несправності (наприклад, якщо подано команду «Старт», але споживання струму не змінилося). 
 
3.2 Опис функціональності веб-клієнта та мобільного клієнта 
     Веб-клієнт та мобільний клієнт є двома основними точками входу для користувачів в екосистему «WashConnect», проте вони розроблені з різними пріоритетами та для дещо відмінних сценаріїв використання. Архітектурний фундамент взаємодії базується на використанні єдиного універсального RESTful API, що гарантує цілісність та миттєву синхронізацію даних між усіма платформами екосистеми. 
     Веб-клієнт розробляється на мові програмування TS, з використанням фреймворку React, як потужна адміністративна панель для власників та менеджерів пральні. Він слугує єдиним центром керування інфраструктурою: від реєстрації нових локацій до моніторингу технічного стану обладнання. 
     Ключовою функцією є управління парком машин. Через інтуїтивний інтерфейс адміністратор реєструє нові IoT-контролери, налаштовує прив'язку до фізичних машин, формує тарифні плани (ціна за цикл, налаштування динамічного ціноутворення) та переглядає статус підключення обладнання. Також веб-клієнт надає доступ до фінансової та технічної аналітики, де у вигляді наочних графіків відображається завантаженість пральні, дохід за обраний період та споживання електроенергії. Безпека гарантується системою розмежування прав, що дозволяє надати різні рівні доступу для власника, адміністратора та технічного персоналу. 
     Мобільний додаток розробляється на платформі React Native, що дозволяє створити швидкий та нативний сервіс одночасно для iOS та Android з єдиною кодовою базою. Це основний інструмент для кінцевого користувача, який починається з швидкої реєстрації та прив'язки платіжного методу. 
     Ключовою функцією є моніторинг та бронювання. Додаток відображає список доступних машин у реальному часі зі статусами («Вільно», «Прання», «Віджим», «На ремонті»). Користувач може забронювати вільну машину на певний час, щоб гарантувати її доступність по приходу. Вбудована платіжна система дозволяє поповнювати баланс та оплачувати послуги в один дотик. Головна особливість — це живий зворотний зв'язок з обладнанням: завдяки постійному з'єднанню (через SignalR/WebSockets) клієнт отримує миттєві Push-повідомлення про зміну статусу («Прання завершено», «Дверцята розблоковано») прямо на екран телефону, що дозволяє раціонально планувати свій час. 
4 BUSINESS CONTEXT (БІЗНЕС-КОНТЕКСТ) 
4.3 Опис програмних засобів та інструментів 
     Серверна архітектура реалізується на базі екосистеми Microsoft, використовуючи мову програмування C# та платформу .NET 9 (ASP.NET Core Web API). Це забезпечує створення високопродуктивного та масштабованого RESTful API. Для збереження структурованих даних (облікові записи, тарифи, журнали сесій) обрано реляційну СУБД Microsoft SQL Server (MSSQL), яка взаємодіє з додатком через ORM Entity Framework Core. Хмарна інфраструктура проєкту є гібридною: база даних розгорнута на платформі Microsoft Azure SQL, а веб-сервіс API хоститься на хмарній платформі Render.
     Клієнтські частини системи розробляються в єдиній екосистемі JavaScript/TypeScript:
• Веб-клієнт (панель адміністратора) створюється на бібліотеці React.
• Мобільний клієнт реалізується на фреймворку React Native (для iOS та Android).
     У ролі апаратної платформи використовується мікроконтролер ESP32. Для його програмування обрано технологію .NET nanoFramework. Це дозволяє писати прошивку (firmware) мовою C# безпосередньо у Visual Studio, використовуючи знайомі розробнику інструменти та бібліотеки, що забезпечує єдиний мовний стек для всієї системи («C# everywhere»). 
     Взаємодія між компонентами (Мобільний додаток ↔ Сервер ↔ IoT) базується на стандартних HTTP-запитах (REST). Для отримання актуального статусу прання додаток використовує механізм періодичного опитування (Polling). IoT-контролер спілкується із сервером також через захищений HTTP/HTTPS протокол, надсилаючи телеметрію у форматі JSON. 
     Інфраструктура розробки побудована на використанні системи контролю версій Git та сервісу GitHub. Як основне середовище розробки (IDE) використовується Visual Studio 2022, яка завдяки розширенню nanoFramework підтримує розробку, прошивку та дебаггінг коду як для сервера, так і для мікроконтролера в одному вікні.